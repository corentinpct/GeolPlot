# GeolPlot
A simple Python GUI to process and represent data from FieldMOVE Clino projects.

------------------------------------------------------------------------

GeolPlot allows users to __import `.csv` files__ from [FieldMOVE Clino](https://www.petex.com/products/move-suite/digital-field-mapping/) projects, to __harmonize__ data and __generate multiple stereographic representations in a row__ based on user choices.

GeolPlot is inspired by [openstereo_addon](https://github.com/corentinpct/openstereo_addon), [OpenStereo](https://openstereo.readthedocs.io/en/latest/) and [mplstereonet](https://github.com/joferkington/mplstereonet) open-source projects. Currently, the program __only supports FieldMOVE Clino projects__, unlike the mentioned open-source projects.

## Table of contents
- [Updates and Improvements](#updates-and-improvements)
	- [Upcoming Updates](#upcoming-updates)
- [Installation](#installation)
- [Requirements](#requirements)
- [Outputs](#outputs)
	- [Output Structure](#output-structure)
	- [Set of stereonets produced](#set-of-stereonets-produced)
- [User Guide](#user-guide)

## Updates and Improvements
This section presents the __new features and improvements brought to the stable version__. Here a list of these features :
- Ability to __select files from among the imported files__ in GeolPlot
- Integration of __parameter filters__ based on the files selected from the imported files
- Ability to __import `.xlsx` files__ generated by GeolPlot
- Changing the __behaviour of checkbox__ `Plot both Poles and Density Contouring`, __no longer requiring checkbox `Poles` to be checked__ to overlay density contour and poles
- __UI improvement__ to simplify the selection the selection of `Locality`, `Unit` and `Plane type` parameters
- __Improvement of the image generation algorithm__ (no longer iterates among the unselected parameters).
- Code revision to simplify future updates (reduction of `.py` files in the project)
### Upcoming Updates
While GeolPlot has received a new update, it also has several areas that require further improvement. Here a list of upcoming improvements for the next stable version :  
- [ ] __Improvement of the image generation algorithm__ when generating a second time with the same set of files (by controlling visited states in the previous generation)
- [ ] __Improvement of the import algorithm__ for already imported files (by avoiding the file reading phase)
- [ ] Ability to __select__ between __Equal Area ("Schmidt") and Equal Angle ("Wulff") stereonets__
- [ ] Ability to __select the image format__ such as `.svg`, `.pdf` or `.png`
- [ ] __UI improvement__ to support those features

Feel free to communicate any changes you would like to see in the program in the ['Issues' section](https://github.com/corentinpct/GeolPlot/issues).
## Installation
Firstly, make sure to __download the latest version__ published of the [GeolPlot repository](fix) locally.

__Run the script__ `geolplot.py` with a Python IDE or use the following command in a shell :
```bash
python geolplot.py
```
GeolPlot should then start.

If you encounter an __error related to the required packages__ when starting the application, please refer to the following section. 
However, if the error is not related to the required packages, feel free to report the issue in the ['Issues' section](https://github.com/corentinpct/GeolPlot/issues) of the GeolPlot repository.

## Requirements
GeolPlot relies on several __Python packages__ that ensure the proper functioning of the graphical interface, data reading and processing, and stereographic representations. The complete list of packages present in GeolPlot and their versions is provided below: 
- _[Python](https://www.python.org/) : 3.10.12_
- _[PyQt5](https://riverbankcomputing.com/software/pyqt/intro) : 5.15.7_
- _[Matplotlib](https://matplotlib.org/stable/) : 3.6.2_
- _[mplstereonet](https://github.com/joferkington/mplstereonet) : 0.7_
- _[NumPy](https://numpy.org/doc/stable/) : 1.25.2_
- _[Pandas](https://pandas.pydata.org/) : 2.0.3_

You can __install the required packages__ by executing the following command :
```bash
pip install \
    PyQt5 \
    numpy \
    pandas \
    matplotlib \
```

Please note that `mplstereonet` might present __deprecation warnings__ using `pip install mplstereonet`. We recommend __installing the package locally__ following the [mplstereonet](https://github.com/joferkington/mplstereonet#install) installation.

## Outputs
### Output structure
The program follows a routine while generating stereonets :
1) GeolPlot __creates directories for each selected `Locality`__ in the output directory selected __and then subdirectories for each selected `Unit` in the `Locality`.
2) GeolPlot __generates and saves stereonets__ based on the `Plane type` and the representation settings selected. Stereonets are saved under the following name : 
	- First the `Plane type`
	- Then `Poles` or `Planes` or can be empty if the stereonet does not include objects
	- Then `Method` or can be empty if the stereonet does not include density contouring
	- Finally `Strike` or `Dip Azimuth`
3) GeolPlot __opens the output directory__ when the process is over.

Here an exemple of the output structure based on a synthetic dataset : 
```
├── examples (our output directory)
    ├── Locality1
        ├── UnitA
            ├── bedding_linear-kamb_dipazimuth.png
            ├── bedding_linear-kamb_strike.png
            ├── bedding_planes_dipazimuth.png
            ├── bedding_planes_strike.png
            ├── bedding_poles_dipazimuth.png
            ├── bedding_poles_strike.png
            ├── overturnedbedding_linear-kamb_dipazimuth.png
            ├── overturnedbedding_linear-kamb_strike.png
            ├── overturnedbedding_planes_dipazimuth.png
            ├── overturnedbedding_planes_strike.png
            ├── overturnedbedding_poles_dipazimuth.png
            └── overturnedbedding_poles_strike.png 
        └── UnitD
            └── 12 stereonets 
    ├── Locality2
        └── UnitB
            └── 24 stereonets
    ├── Locality3
        └── UnitB
            └── 18 stereonets
    ├── ....
```

This routine enables the program to generate __anywhere from one to several hundred stereonets in a single run__.

### Set of stereonets produced
Below, several examples of stereonets generated from a synthetic dataset will be presented.

![cleavage_planes_strike](https://github.com/corentinpct/GeolPlot/assets/133667270/d22b11ec-676f-4ba3-8b2e-1161f23fd7af)

A stereonet of 22 values represented as __planes__ in a __strike/dip orientation__.

![cleavage_poles_strike](https://github.com/corentinpct/GeolPlot/assets/133667270/3b47da62-346a-4c22-a7ac-5b5fb5814b41)

A stereonet of the same data that the previous stereonet but represented as __poles__.

![joint_linear-kamb_dipazimuth](https://github.com/corentinpct/GeolPlot/assets/133667270/d9954657-27bf-41ae-9ab3-94c7abc2e3da)

A stereonet of __333 values__ with a __density contouring & Kamb linear smoothing__.

![joint_poles_linear-kamb_strike](https://github.com/corentinpct/GeolPlot/assets/133667270/cb6df337-e202-4ae7-8428-a17fe9e48917)

A stereonet of __292 values__ with a __density contouring & Kamb linear smoothing__ and __poles__.

## User Guide
GeolPlot comes with a __user guide__ that provides a __basic and comprehensive overview of the program__ itself. This guide is in `.md` format and can be found in the [examples](http://github.com/corentinpct/GeolPlot/blob/main/examples) section of the repository.
